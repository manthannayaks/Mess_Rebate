<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Campus Mess Companion</title>
    <meta
      name="description"
      content="Offline-ready dashboard for mess rebates, menus, and the academic calendar."
    />
    <meta name="theme-color" content="#2563eb" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="default" />
    <meta name="apple-mobile-web-app-title" content="Mess Companion" />
    <link rel="manifest" href="/manifest.json" />
    <link rel="stylesheet" href="assets/styles/main.css" />
    <script src="assets/scripts/app-shell.js" defer></script>
    <script src="assets/scripts/home.js" defer></script>
  </head>
  <body class="page-landing">
    <header class="site-header">
      <a class="brand" href="index.html">
        <span aria-hidden="true">ğŸ½ï¸</span>
        <span>Campus Mess Companion</span>
      </a>
      <div class="header-actions">
        <div class="theme-toggle" data-theme-toggle role="group" aria-label="Theme">
          <button type="button" data-theme-option="auto">Auto</button>
          <button type="button" data-theme-option="light">Light</button>
          <button type="button" data-theme-option="dark">Dark</button>
        </div>
        <button class="profile-btn" type="button" data-profile-toggle>
          <span class="profile-initial" data-profile-initial>â˜º</span>
          <span class="profile-label" data-profile-label>Profile</span>
        </button>
        <button class="nav-toggle" type="button" data-nav-toggle aria-label="Toggle navigation">
          â˜°
        </button>
      </div>
      <nav class="site-nav">
        <a href="index.html" class="is-active">Home</a>
        <a href="mess-menu.html">Mess Menu</a>
        <a href="login.html">Admin Login</a>
        <a href="rebates.html">Mess Rebate</a>
        <a href="academic-calendar.html">Academic Calendar</a>
      </nav>
    </header>

    <main class="page-content">
      <section class="hero-card">
        <div>
          <p class="eyebrow">Offline Toolkit</p>
          <h1>Mess life doesnâ€™t need the internet.</h1>
          <p class="lead">
            Track rebates, browse menus, and plan using the academic calendar â€” all powered
            by your local data folder.
          </p>
          <div class="hero-actions">
            <a class="btn primary" href="rebates.html">Open Rebate Lookup</a>
            <a class="btn ghost" href="mess-menu.html">View Mess Menu</a>
          </div>
        </div>
        <div class="hero-meta">
          <p class="meta-label">Today</p>
          <p class="hero-date" data-current-day>â€”</p>
          <p class="hero-date" data-current-date>â€”</p>
          <p class="meta-label">Academic Year</p>
          <p class="hero-date" data-academic-year>2025-26</p>
        </div>
      </section>

      <section class="grid grid-3">
        <article class="card highlight">
          <p class="eyebrow">Rebate Lookup</p>
          <h2>Instant roll number search</h2>
          <p>
            Dive into a studentâ€™s complete rebate history and totals. Data refreshes the
            moment you rebuild from <code>data__/Mess Bill</code>.
          </p>
          <a href="rebates.html" class="card-link">Search rebates â†’</a>
        </article>
        <article class="card highlight">
          <p class="eyebrow">Mess Menu</p>
          <h2>Veg &amp; Non-veg plans</h2>
          <p>
            Auto-loads todayâ€™s schedule with a clean UI for navigating other days and
            switching plans.
          </p>
          <a href="mess-menu.html" class="card-link">Browse menu â†’</a>
        </article>
        <article class="card highlight">
          <p class="eyebrow">Academic Calendar</p>
          <h2>Grid view + PDF</h2>
          <p>
            Visual calendar with holidays, events, and a quick jump to the official PDF if
            you need the full document.
          </p>
          <a href="academic-calendar.html" class="card-link">Plan ahead â†’</a>
        </article>
      </section>

      <section class="card qr-card" data-home-qr-card>
        <header>
          <div>
            <p class="eyebrow">Mess QR pass</p>
            <h2>Keep your gate QR handy</h2>
            <p class="meta">
              Upload the QR image issued to you. It stays offline, appears on your profile,
              and can be scanned even without the internet.
            </p>
          </div>
          <button class="btn ghost slim" type="button" data-home-qr-clear>
            Remove QR
          </button>
        </header>
        <label class="qr-upload">
          <input type="file" accept="image/*" data-home-qr-input />
          <span>Upload QR image</span>
        </label>
        <div class="qr-preview hidden" data-home-qr-preview-wrapper>
          <img data-home-qr-preview alt="Uploaded QR preview" class="qr-large" />
            <p class="qr-text" data-home-qr-text>Upload a QR to preview and decode it.</p>
            <p class="meta">Decoded text updates automatically when possible.</p>
          </div>
        </div>
        <label class="stack hidden" data-home-qr-manual-wrapper>
          <span>Manual QR text</span>
          <textarea
            rows="2"
            data-home-qr-manual
            placeholder="Paste the QR text if the automatic decoder fails."
          ></textarea>
        </label>
      </section>

      <section class="card info">
        <div>
          <h2>How updates work</h2>
          <p>
            Keep the <code>data__/</code> folder updated with the latest mess bills,
            menus, and calendar files. Run <code>npm run build:data</code> whenever the
            files change to regenerate the offline datasets.
          </p>
        </div>
        <ul class="info-list">
          <li>
            <strong>Mess Bill CSVs</strong>
            <span>Drop new months inside <code>data__/Mess Bill</code></span>
          </li>
          <li>
            <strong>Menu CSVs</strong>
            <span>Place veg/non-veg plans in <code>data__/Menu</code></span>
          </li>
          <li>
            <strong>Academic Calendar</strong>
            <span>Replace the PDF or edit <code>calendar-events.json</code></span>
          </li>
        </ul>
      </section>
    </main>

    <footer class="site-footer">
      <p>Built for any residential campus â€” no institute branding, no internet needed.</p>
    </footer>

    <div class="profile-panel hidden" data-profile-panel>
      <div class="profile-panel__scrim" data-profile-close></div>
      <div class="profile-panel__body" role="dialog" aria-modal="true">
        <button class="profile-close" type="button" data-profile-close aria-label="Close profile">
          <span>Ã—</span>
        </button>
        
        <div class="profile-header">
          <div class="profile-avatar" data-profile-avatar>
            <span data-profile-initial>â˜º</span>
          </div>
          <h2>Student Profile</h2>
          <p class="profile-subtitle">Manage your personal information</p>
        </div>

        <form data-profile-form class="profile-form">
          <div class="form-row">
            <label class="form-field">
              <span class="field-label">
                <span class="field-icon">ğŸ‘¤</span>
                Full Name
              </span>
              <input type="text" name="name" placeholder="e.g. Priya Sharma" required />
            </label>
          </div>

          <div class="form-row">
            <label class="form-field">
              <span class="field-label">
                <span class="field-icon">ğŸ“</span>
                Roll Number
              </span>
              <input type="text" name="roll" placeholder="e.g. B25EE1001" required />
            </label>
          </div>

          <div class="form-row form-row-split">
            <label class="form-field">
              <span class="field-label">
                <span class="field-icon">ğŸ </span>
                Hostel / Block
              </span>
              <input type="text" name="hostel" placeholder="e.g. B1 / Room 217" />
            </label>
            <label class="form-field">
              <span class="field-label">
                <span class="field-icon">ğŸ“±</span>
                Phone
              </span>
              <input type="tel" name="phone" placeholder="e.g. 9876543210" />
            </label>
          </div>

          <button class="btn primary profile-save-btn" type="submit">
            <span>ğŸ’¾ Save Profile</span>
          </button>
        </form>

        <section class="profile-summary">
          <div class="summary-header">
            <h3>
              <span class="summary-icon">ğŸ“±</span>
              QR Pass
            </h3>
            <p class="summary-subtitle">Your mess entry QR code</p>
          </div>
          <div class="profile-qr-preview" data-profile-qr-preview>
            <div class="qr-placeholder">
              <span class="qr-icon">ğŸ“·</span>
              <p>Upload a QR on the home page to see it here</p>
            </div>
          </div>
        </section>
      </div>
    </div>
  </body>
</html>
